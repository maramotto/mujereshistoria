<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cuestionario · Mujeres Que Cambian La Historia</title>
<link rel="stylesheet" href="css/styles.css">
<style>
body { padding-top: 62px; }

/* ── HERO DEL NIVEL ── */
.lv-hero {
  padding: 3.5rem 1.5rem 0;
  position: relative; overflow: hidden;
  text-align: center;
}
.lv-hero::before {
  content: ''; position: absolute; inset: 0; pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60'%3E%3Cellipse cx='30' cy='30' rx='10' ry='6.5' fill='none' stroke='%23000000' stroke-width='1' opacity='0.05'/%3E%3Cellipse cx='0' cy='0' rx='10' ry='6.5' fill='none' stroke='%23000000' stroke-width='1' opacity='0.05'/%3E%3Cellipse cx='60' cy='0' rx='10' ry='6.5' fill='none' stroke='%23000000' stroke-width='1' opacity='0.05'/%3E%3Cellipse cx='0' cy='60' rx='10' ry='6.5' fill='none' stroke='%23000000' stroke-width='1' opacity='0.05'/%3E%3Cellipse cx='60' cy='60' rx='10' ry='6.5' fill='none' stroke='%23000000' stroke-width='1' opacity='0.05'/%3E%3C/svg%3E");
}

/* Ramitas botánicas decorativas en las esquinas */
.hero-deco {
  position: absolute; bottom: 0; pointer-events: none; opacity: .35;
}
.hero-deco-l { left: 0; }
.hero-deco-r { right: 0; transform: scaleX(-1); }

.lv-hero-inner { position: relative; z-index: 1; }
.lv-hero__back { margin-bottom: 1.5rem; }
.lv-hero__icon { margin: 0 auto .9rem; display: block; }

.lv-hero h1 {
  font-family: 'Syne', sans-serif;
  font-size: clamp(2.2rem, 7vw, 4.5rem);
  font-weight: 800; letter-spacing: -.025em; line-height: 1.05;
  margin-bottom: .4rem; color: var(--dark);
}
/* Destacar MUJERES y HISTORIA en el subtítulo del nivel también */
.lv-hero h1 .w-mujeres  { color: var(--purple); }
.lv-hero h1 .w-historia { color: var(--orange); }

.lv-hero__age {
  font-family: 'Syne', sans-serif;
  font-size: .78rem; font-weight: 700;
  letter-spacing: .18em; text-transform: uppercase;
  color: var(--text-m); margin-bottom: 1.1rem;
}
.lv-hero__desc {
  font-size: .95rem; color: var(--text-m);
  max-width: 420px; margin: 0 auto;
  line-height: 1.65; font-weight: 400;
}
.lv-hero-wave { position: relative; z-index: 1; margin-top: .5rem; }

/* ── PREGUNTAS ── */
.questions-section { padding: 3rem 1.5rem 5rem; }
.q-intro { text-align: center; margin-bottom: 2.25rem; }
.q-intro p { font-size: .86rem; color: var(--text-m); margin-top: .35rem; }

.q-card {
  border-radius: 20px;
  padding: 1.75rem 1.75rem 1.5rem;
  margin-bottom: 1.25rem;
  border-left: 5px solid;
  box-shadow: 0 2px 10px rgba(42,32,24,.05);
  transition: box-shadow .2s, transform .2s;
  background: var(--white);
  position: relative; overflow: hidden;
}
.q-card:hover { box-shadow: 0 5px 20px rgba(42,32,24,.09); transform: translateY(-1px); }

/* Motivo botánico sutil en esquina */
.q-card::after {
  content: '';
  position: absolute; bottom: -6px; right: -6px;
  width: 64px; height: 64px; pointer-events: none; opacity: .5;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='44' cy='20' r='6.5' fill='%23FAF0F5'/%3E%3Ccircle cx='52' cy='26' r='6' fill='%23FAF0F5'/%3E%3Ccircle cx='48' cy='34' r='6' fill='%23FAF0F5'/%3E%3Ccircle cx='38' cy='36' r='6' fill='%23FAF0F5'/%3E%3Ccircle cx='36' cy='26' r='6' fill='%23FAF0F5'/%3E%3Ccircle cx='44' cy='28' r='4' fill='%23EAAABF' opacity='.6'/%3E%3C/svg%3E");
  background-size: contain; background-repeat: no-repeat;
}

.q-num {
  font-size: .68rem; color: var(--text-m);
  font-weight: 600; letter-spacing: .1em;
  text-transform: uppercase; margin-bottom: .4rem;
}
.q-text {
  font-family: 'Syne', sans-serif;
  font-size: 1.02rem; font-weight: 700;
  line-height: 1.4; margin-bottom: 1.1rem;
  color: var(--dark);
}

.options { display: grid; grid-template-columns: 1fr 1fr; gap: .6rem; }
@media(max-width: 480px){ .options{ grid-template-columns: 1fr; } }

.option {
  display: flex; align-items: flex-start; gap: .6rem;
  padding: .7rem .9rem; border-radius: 12px;
  background: var(--cream); font-size: .87rem; line-height: 1.4;
  border: 1.5px solid var(--cream-dd);
  color: var(--text);
}
.option--correct { font-weight: 600; border-width: 2px; }

.opt-letter {
  display: inline-flex; align-items: center; justify-content: center;
  width: 22px; height: 22px; border-radius: 50%;
  background: rgba(0,0,0,.07);
  font-size: .68rem; font-weight: 800;
  flex-shrink: 0; margin-top: .05rem;
  font-family: 'Syne', sans-serif;
}
.option--correct .opt-letter { background: rgba(255,255,255,.35); }
.check-mark { margin-left: auto; flex-shrink: 0; }
.check-mark svg { width: 18px; height: 18px; }

.q-footer-nav { text-align: center; margin-top: 2.5rem; }
</style>
</head>
<body class="crochet-bg">

<nav class="topbar">
  <a href="index.html" class="topbar__logo">
    <span class="w-mujeres">Mujeres</span>
    <span class="w-rest"> que Cambian la </span>
    <span class="w-historia">Historia</span>
  </a>
  <div class="topbar__levels">
    <a href="nivel.html?level=infantil" class="lv-a"><span class="lv-label">Infantil</span></a>
    <a href="nivel.html?level=juvenil"  class="lv-b"><span class="lv-label">Juvenil</span></a>
    <a href="nivel.html?level=adulto"   class="lv-c"><span class="lv-label">Adulto</span></a>
    <a href="nivel.html?level=experto"  class="lv-d"><span class="lv-label">Experto</span></a>
  </div>
</nav>

<div id="app"></div>

<footer class="footer">
  <p><strong>Mujeres Que Cambian La Historia</strong> &mdash; Exposición de amigurumis por <strong>Elena Frisuelos · Diseños ELEMA</strong></p>
  <p style="margin-top:.3rem;font-size:.76rem">Las respuestas reflejan los textos de los paneles de la exposición.</p>
  <p style="margin-top:.5rem;font-size:.72rem;opacity:.65">Desarrollo web: <a href="https://maramotto.com" style="color:inherit;text-decoration:underline">maramotto.com</a></p>
</footer>

<script src="js/questions.js"></script>
<script>
(function(){

  const params  = new URLSearchParams(location.search);
  const levelId = ['infantil','juvenil','adulto','experto'].includes(params.get('level'))
    ? params.get('level') : 'infantil';

  const meta = LEVELS[levelId];
  const qs   = QUESTIONS[levelId];

  /* Paleta por nivel */
  const P = {
    infantil: { bg:'#FEF8E0', border:'#D4A828', dark:'#5A3C00', okBg:'#D4A828', okText:'#fff', wave:'#FAF4EE' },
    juvenil:  { bg:'#E8F2FC', border:'#4A88C8', dark:'#183860', okBg:'#4A88C8', okText:'#fff', wave:'#FAF4EE' },
    adulto:   { bg:'#E8F4E0', border:'#5A9050', dark:'#1E4018', okBg:'#5A9050', okText:'#fff', wave:'#FAF4EE' },
    experto:  { bg:'#EEE8FA', border:'#8A68C0', dark:'#3A1870', okBg:'#8A68C0', okText:'#fff', wave:'#FAF4EE' },
  };
  const p = P[levelId];

  /* CSS dinámico */
  const s = document.createElement('style');
  s.textContent = `
    .lv-hero { background: ${p.bg}; }
    .lv-hero__back .back-link { border-color:${p.border}; color:${p.dark}; }
    .lv-hero__back .back-link:hover { background:${p.dark}; color:${p.bg}; border-color:${p.dark}; }
    .lv-hero-wave path { fill: ${p.wave}; }
    .q-card { border-color: ${p.border}; }
    .option--correct { background:${p.okBg}; color:${p.okText}; border-color:${p.border}; }
    .q-footer-nav .back-link { border-color:${p.border}; color:${p.dark}; }
    .q-footer-nav .back-link:hover { background:${p.dark}; color:${p.bg}; border-color:${p.dark}; }
  `;
  document.head.appendChild(s);

  document.title = `Nivel ${meta.name} · Mujeres Que Cambian La Historia`;

  /* Icono del nivel */
  function levelIcon(lv, size=72){
    const colors = {
      infantil: { yarn:'#D4A828', deco:'flower', f:'#FAF0F5', c:'#EAAABF' },
      juvenil:  { yarn:'#4A88C8', deco:'mimosa', f:'#BFD8F8', c:'#4A88C8' },
      adulto:   { yarn:'#5A9050', deco:'mimosa', f:'#F5D060', c:'#EDB830' },
      experto:  { yarn:'#8A68C0', deco:'flower', f:'#EDE5F5', c:'#8A68C0' },
    };
    const c = colors[lv];
    const cx = size * .44, cy = size * .54, r = size * .33;
    const deco = c.deco === 'flower' ? `
      <g transform="translate(${size*.8},${size*.18})">
        <circle cx="0" cy="-5" r="4" fill="${c.f}"/>
        <circle cx="4.8" cy="-1.5" r="4" fill="${c.f}"/>
        <circle cx="3" cy="4" r="4" fill="${c.f}"/>
        <circle cx="-3" cy="4" r="4" fill="${c.f}"/>
        <circle cx="-4.8" cy="-1.5" r="4" fill="${c.f}"/>
        <circle cx="0" cy="0" r="2.5" fill="${c.c}"/>
      </g>` : `
      <g transform="translate(${size*.8},${size*.18})">
        <circle cx="0" cy="0" r="5" fill="${c.f}" opacity=".9"/>
        <circle cx="6" cy="-2" r="4.5" fill="${c.c}" opacity=".85"/>
        <circle cx="3" cy="6" r="4.5" fill="${c.f}" opacity=".82"/>
        <circle cx="-5" cy="3" r="4" fill="${c.c}" opacity=".78"/>
        <circle cx="-4" cy="-5" r="3.5" fill="${c.f}" opacity=".72"/>
      </g>`;
    return `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <circle cx="${cx}" cy="${cy}" r="${r}" fill="none" stroke="${c.yarn}" stroke-width="2.2"/>
      <path d="M${size*.08},${cy} C${size*.2},${cy-size*.18} ${size*.36},${cy+size*.16} ${size*.5},${cy-size*.1}
               C${size*.6},${cy-size*.24} ${size*.72},${cy} ${size*.78},${cy}"
            fill="none" stroke="${c.yarn}" stroke-width="2.2" stroke-linecap="round"/>
      <path d="M${size*.1},${cy+size*.1} C${size*.22},${cy} ${size*.4},${cy+size*.18} ${size*.56},${cy+size*.06}"
            fill="none" stroke="${c.yarn}" stroke-width="1.6" stroke-linecap="round" opacity=".5"/>
      ${deco}
    </svg>`;
  }

  /* Decoración botánica para las esquinas del hero */
  const DECO = `<svg width="140" height="180" viewBox="0 0 140 180" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <path d="M140,180 C110,145 80,115 50,72 C24,36 8,14 0,0" fill="none" stroke="#8B5040" stroke-width="1.4" opacity=".45"/>
    <g transform="translate(48,75)">
      <circle cx="0" cy="-5" r="4.5" fill="#FAF0F5" opacity=".85"/>
      <circle cx="4.3" cy="-1.6" r="4.5" fill="#FAF0F5" opacity=".85"/>
      <circle cx="2.6" cy="4.2" r="4.5" fill="#FAF0F5" opacity=".85"/>
      <circle cx="-2.6" cy="4.2" r="4.5" fill="#FAF0F5" opacity=".85"/>
      <circle cx="-4.3" cy="-1.6" r="4.5" fill="#FAF0F5" opacity=".85"/>
      <circle cx="0" cy="0" r="2.8" fill="#EAAABF" opacity=".8"/>
      <line x1="0" y1="-2.5" x2="0" y2="-7" stroke="#D07888" stroke-width=".7" opacity=".7"/>
      <circle cx="0" cy="-7.5" r="1.1" fill="#D07888" opacity=".7"/>
    </g>
    <g transform="translate(90,120)">
      <circle cx="0" cy="0" r="5" fill="#F5D060" opacity=".8"/>
      <circle cx="6" cy="-2" r="4.5" fill="#EDB830" opacity=".75"/>
      <circle cx="3" cy="6" r="4.5" fill="#F5D878" opacity=".78"/>
      <circle cx="-5" cy="3" r="4" fill="#F5D060" opacity=".72"/>
      <circle cx="-4" cy="-4" r="3.5" fill="#EDB830" opacity=".68"/>
    </g>
    <ellipse cx="68" cy="48" rx="7" ry="3" fill="#8AAE68" opacity=".5" transform="rotate(-38,68,48)"/>
    <ellipse cx="58" cy="58" rx="6" ry="2.5" fill="#8AAE68" opacity=".45" transform="rotate(-32,58,58)"/>
    <ellipse cx="18" cy="20" rx="4" ry="6" fill="#F5D8E8" opacity=".55" transform="rotate(-18,18,20)"/>
  </svg>`;

  /* Letras opciones */
  const LETTERS = ['A','B','C','D'];
  const CHECK = `<span class="check-mark">
    <svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <circle cx="9" cy="9" r="8" fill="rgba(255,255,255,.2)"/>
      <polyline points="4,9 7.5,12.5 14,6" fill="none" stroke="currentColor"
        stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg></span>`;

  /* Render preguntas — SIN q-persona */
  function renderCards(questions){
    return questions.map((q, i) => {
      const opts = q.opts.map((opt, j) => {
        const ok = j === q.correct;
        return `<div class="option${ok ? ' option--correct' : ''}">
          <span class="opt-letter">${LETTERS[j]}</span>
          <span>${opt}</span>
          ${ok ? CHECK : ''}
        </div>`;
      }).join('');
      return `<div class="q-card">
        <div class="q-num">Pregunta ${i+1} de ${questions.length}</div>
        <div class="q-text">${q.q}</div>
        <div class="options">${opts}</div>
      </div>`;
    }).join('');
  }

  document.getElementById('app').innerHTML = `
    <section class="lv-hero">
      <div class="hero-deco hero-deco-l">${DECO}</div>
      <div class="hero-deco hero-deco-r">${DECO}</div>
      <div class="lv-hero-inner container--narrow">
        <div class="lv-hero__back">
          <a href="index.html" class="back-link">&#8592; Volver al inicio</a>
        </div>
        <div class="lv-hero__icon">${levelIcon(levelId)}</div>
        <h1>Nivel ${meta.name}</h1>
        <div class="lv-hero__age">${meta.age}</div>
        <p class="lv-hero__desc">Las respuestas correctas están marcadas. ¿Cuántas has acertado?</p>
      </div>
      <div class="lv-hero-wave">
        <svg viewBox="0 0 1440 62" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
          <path d="M0,35 C360,62 1080,8 1440,35 L1440,62 L0,62 Z"/>
        </svg>
      </div>
    </section>

    <section class="questions-section">
      <div class="container--narrow">
        <div class="q-intro">
          <div class="section-label">Respuestas</div>
          <p>La opción correcta aparece marcada en cada pregunta.</p>
        </div>
        ${renderCards(qs)}
        <div class="q-footer-nav">
          <a href="index.html" class="back-link">&#8592; Volver al inicio</a>
        </div>
      </div>
    </section>`;

})();
</script>
</body>
</html>